<div class="flex h-[calc(100vh-65px)] w-full flex-col bg-[#121212] font-sans text-white overflow-hidden">
  <!-- Main Content -->
  <main class="flex-1 overflow-y-auto relative no-scrollbar scroll-smooth p-4 md:p-8">

    <!-- Intro Section -->
    <div class="mb-12 md:mb-16">
      <div class="text-center mb-10">
        <h1 class="text-4xl md:text-5xl font-bold text-white mb-3 tracking-tight">
          Khóa học Từ vựng
        </h1>
        <p class="text-lg text-[#a0a0a0] max-w-2xl mx-auto">
          Bắt đầu hành trình chinh phục từ vựng tiếng Anh theo chủ đề và cấp độ.
        </p>
      </div>

      <!-- Search & Filter Section -->
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <!-- Large Search Input -->
        <div class="relative w-full md:flex-1">
          <span
            class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-teal-400/70 text-2xl">search</span>
          <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="filterCourses()"
            placeholder="Tìm kiếm chủ đề từ vựng..."
            class="w-full bg-[#1e1e1e] border border-[#2c2c2c] rounded-lg pl-14 pr-4 py-3 text-lg text-white placeholder:text-[#a0a0a0]/70 focus:ring-2 focus:ring-[#2dd4bf] focus:outline-none focus:border-[#2dd4bf] transition-all duration-300 shadow-lg shadow-teal-500/5">
        </div>

        <!-- Level Filter Pills -->
        <div
          class="flex flex-wrap justify-center space-x-1 bg-[#1e1e1e] p-1.5 rounded-lg shadow-lg border border-[#2c2c2c]">
          <button (click)="selectedLevel = 'all'; filterCourses()"
            class="px-4 py-2 text-sm font-semibold rounded-md transition-colors"
            [ngClass]="selectedLevel === 'all' ? 'text-[#121212] bg-[#2dd4bf]' : 'text-[#a0a0a0] hover:bg-[#2c2c2c] hover:text-white'">
            Tất cả
          </button>
          <button *ngFor="let level of levels" (click)="selectedLevel = level; filterCourses()"
            class="px-4 py-2 text-sm font-semibold rounded-md transition-colors whitespace-nowrap"
            [ngClass]="selectedLevel === level ? 'text-[#121212] bg-[#2dd4bf]' : 'text-[#a0a0a0] hover:bg-[#2c2c2c] hover:text-white'">
            {{ level }}
          </button>
        </div>
      </div>
    </div>

    <!-- Grid Layout -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 pb-20">
      <app-content-card *ngFor="let course of displayedCourses; let i = index" [data]="{
          id: course.id,
          title: course.title,
          description: course.description,
          badge: course.level,
          metaInfo: [
            { icon: 'library_books', text: course.words.length + ' từ vựng' },
            { icon: 'timer', text: '~' + Math.ceil(course.words.length * 2) + ' phút' }
          ],
          routePath: '/vocabulary'
        }" [index]="i">
      </app-content-card>
    </div>

    <!-- Empty State -->
    <div *ngIf="filteredCourses.length === 0" class="text-center py-20 animate-fade-in text-slate-500">
      <span class="material-symbols-outlined text-6xl mb-4 opacity-50">search_off</span>
      <p class="text-lg">Không tìm thấy khóa học phù hợp.</p>
    </div>

    <!-- Load More -->
    <div *ngIf="displayedCourses.length < filteredCourses.length" class="text-center mt-20">
      <button (click)="loadMore()"
        class="bg-[#1e1e1e] border border-[#2c2c2c] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#2c2c2c] hover:border-[#2dd4bf]/50 transition-colors flex items-center space-x-2 mx-auto">
        <span>Xem thêm</span>
        <span class="material-symbols-outlined">expand_more</span>
      </button>
    </div>

  </main>
</div>