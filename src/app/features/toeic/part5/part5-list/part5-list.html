<!-- 
    Part 5 List - Grammar Topics
    Flow: User selects a topic → Navigate to Part 5 Practice
-->
<div class="flex h-[calc(100vh-65px)] w-full flex-col bg-[#0f172a] font-sans text-white overflow-hidden">
    <!-- Header -->
    <header class="border-b border-white/5 bg-[#0f172a]/95 backdrop-blur-xl px-4 py-4 md:px-8 z-20 shadow-sm">
        <div class="mx-auto w-full flex items-center gap-2 text-sm font-medium">
            <a routerLink="/" class="text-slate-400 hover:text-white transition-colors">Trang chủ</a>
            <span class="material-symbols-outlined text-slate-600 text-xs">chevron_right</span>
            <a routerLink="/toeic" class="text-slate-400 hover:text-white transition-colors">TOEIC</a>
            <span class="material-symbols-outlined text-slate-600 text-xs">chevron_right</span>
            <span class="text-white">Part 5 - Ngữ pháp</span>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto relative no-scrollbar scroll-smooth">
        <div class="mx-auto w-full max-w-7xl p-4 md:p-8 min-h-full">

            <!-- Title Section -->
            <div class="mb-8">
                <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-blue-500/10 rounded-full mb-3">
                    <span class="material-symbols-outlined text-blue-400 text-sm">edit_note</span>
                    <span class="text-blue-400 text-xs font-medium">Part 5</span>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold text-white mb-2">Ngữ Pháp TOEIC</h1>
                <p class="text-slate-400">Chọn chủ đề để bắt đầu luyện tập</p>
            </div>

            <!-- Loading State -->
            <div *ngIf="isLoading" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 animate-pulse">
                <div *ngFor="let i of [1,2,3,4,5,6]" class="h-48 bg-white/5 rounded-xl"></div>
            </div>

            <!-- Topics Grid -->
            <div *ngIf="!isLoading" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <a *ngFor="let topic of topics; let i = index" [routerLink]="['/toeic/part5', topic.id]"
                    class="group relative flex flex-col p-6 bg-white/5 rounded-xl border border-white/10 hover:border-blue-500/50 hover:bg-white/10 transition-all duration-300 cursor-pointer overflow-hidden">

                    <!-- Icon -->
                    <div
                        class="flex items-center justify-center w-12 h-12 bg-blue-500/20 rounded-xl mb-4 group-hover:bg-blue-500/30 transition-colors">
                        <span class="material-symbols-outlined text-blue-400 text-2xl">{{ topic.icon }}</span>
                    </div>

                    <!-- Content -->
                    <div class="flex-grow">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-blue-400 text-xs font-medium">{{ topic.name_en }}</span>
                        </div>
                        <h3 class="text-lg font-semibold text-white mb-2">{{ topic.name_vi }}</h3>
                        <p class="text-slate-400 text-sm line-clamp-2">{{ topic.description }}</p>
                    </div>

                    <!-- Stats -->
                    <div class="flex items-center gap-4 mt-4 pt-4 border-t border-white/5">
                        <div class="flex items-center gap-1 text-slate-400 text-xs">
                            <span class="material-symbols-outlined text-sm">menu_book</span>
                            <span>{{ getLessonCount(topic) }} bài học</span>
                        </div>
                        <div class="flex items-center gap-1 text-slate-400 text-xs">
                            <span class="material-symbols-outlined text-sm">quiz</span>
                            <span>{{ getQuestionCount(topic.id) }} câu hỏi</span>
                        </div>
                    </div>

                    <!-- Hover Arrow -->
                    <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity">
                        <span class="material-symbols-outlined text-blue-400">arrow_forward</span>
                    </div>
                </a>
            </div>

            <!-- Empty State -->
            <div *ngIf="!isLoading && topics.length === 0" class="text-center py-16">
                <span class="material-symbols-outlined text-slate-600 text-6xl mb-4">inbox</span>
                <p class="text-slate-400">Chưa có chủ đề nào</p>
            </div>
        </div>
    </main>
</div>